"""
咸鱼之王辅助工具配置文件
用于存储所有硬编码参数，便于适配不同分辨率和游戏版本
"""

class Config:
    """配置类，包含所有可配置参数"""
    
    # 版本信息
    VERSION = "1.2.0"
    
    # =========================== 窗口和OCR配置 ===========================
    # 游戏窗口标题
    GAME_WINDOW_TITLE = "咸鱼之王"
    
    # OCR配置
    OCR_GPU_ENABLED = True  # 是否启用GPU加速OCR
    
    # =========================== 自动答题配置 ===========================
    # 题目区域计算参数
    ANSWER_REGION_FACTOR = 0.1  # 用于计算题目区域的因子
    
    # 题目区域坐标（游戏窗口内的相对坐标）
    QUESTION_REGION_LEFT = 25
    QUESTION_REGION_TOP = 141
    QUESTION_REGION_WIDTH = 419
    QUESTION_REGION_HEIGHT = 130
    
    # 答案点击坐标
    ANSWER_POSITIONS = {
        0: (166, 930),  # A选项
        1: (422, 923)   # B选项
    }
    
    # 文本相似度阈值
    MIN_SIMILARITY = 0.6
    
    # 颜色阈值配置（用于图像处理）
    COLOR_THRESHOLDS = {
        'lower_black': (0, 0, 0),
        'upper_black': (180, 255, 46),
        'lower_white': (0, 0, 221),
        'upper_white': (180, 30, 255)
    }
    
    # =========================== 自动推图配置 ===========================
    # 关卡显示区域（游戏窗口内的相对坐标）
    # 大幅扩大区域以确保完整捕获"第xxx关"文本
    LEVEL_RECOGNITION_REGION = {
        'left': 250,  # 手动设置的坐标
        'top': 250,   # 手动设置的坐标
        'right': 480, # 手动设置的坐标
        'bottom': 350 # 手动设置的坐标
    }
    
    # 推图操作坐标
    PASS_LEVEL_CLICKS = {
        'battle': (250, 650),   # 战斗按钮
        'next': (308, 600)      # 下一关按钮（已上移避开世界聊天框）
    }
    
    # 推图循环控制
    PASS_LEVEL_LOOP_INTERVAL = 100  # 每100次循环检查一次关卡进度
    
    # =========================== 自动推塔配置 ===========================
    # 奖励检测区域（游戏窗口内的相对坐标）
    TOWER_REWARD_REGION = {
        'left': 215,
        'top': 340,
        'right': 396,
        'bottom': 606
    }
    
    # 推塔操作坐标（已调整纵坐标）
    TOWER_CLICKS = {
        'base1': (302, 950),   # 基础点击1
        'base2': (73, 821),     # 基础点击2
        'periodic': (304, 610), # 周期性检查点击
        'claim_reward1': (55, 871),   # 领取奖励1
        'claim_reward2': (311, 193)    # 领取奖励2
    }
    
    # 推塔循环控制
    TOWER_LOOP_CHECK_INTERVAL = 10  # 每10次循环进行一次特殊检查
    
    # =========================== 自动钓鱼配置 ===========================
    # 钓鱼操作序列（坐标，延迟时间）
    FISHING_STEPS = [
        (170, 884, 1.5),   # 点击钓鱼入口
        (464, 603, 1.5),   # 准备钓鱼
        (308, 706, 1.5),   # 开始钓鱼
        (301, 943, 1.5)    # 收集钓鱼成果
    ]
    
    # 钓鱼等待时间（秒）
    FISHING_ANIMATION_WAIT = 8     # 钓鱼动画等待时间
    COLLECTION_ANIMATION_WAIT = 5  # 收集动画等待时间
    
    # =========================== 文件路径配置 ===========================
    # 题库文件路径
    ANSWER_DATABASE_PATH = "data/ans.txt"
    
    # =========================== 日志配置 ===========================
    # 日志级别
    LOG_LEVEL = "INFO"
    
    # =========================== 其他配置 ===========================
    # 错误重试延迟（秒）
    ERROR_RETRY_DELAY = 0.5
    # 窗口异常恢复延迟（秒）
    WINDOW_RECOVERY_DELAY = 2
    # 钓鱼错误重试延迟（秒）
    FISHING_ERROR_RETRY_DELAY = 3
    
    # =========================== 底部按钮配置 ===========================
    # 底部按钮区域（已调整为覆盖窗口底部的区域）
    # 包含从左到右的五个按钮：咸将、装备、战斗、宝箱、副本
    # 进一步扩大识别区域，确保完全覆盖到游戏窗口底部
    BOTTOM_BUTTONS_REGION = {
        'left': -50,        # 左侧适当向外扩展
        'top': 700,         # 顶部大幅提高以覆盖更多区域
        'right': 800,       # 右侧适当向外扩展
        'bottom': 1500      # 底部大幅扩大以确保到达窗口最底部
    }
    
    # 底部按钮名称映射（从左到右）
    BOTTOM_BUTTONS_NAMES = ['咸将', '装备', '战斗', '宝箱', '副本']
    
    # 底部按钮点击坐标（相对窗口）
    # 调整坐标以更准确地对应游戏中的按钮位置
    BOTTOM_BUTTONS_POSITIONS = {
        '咸将': (100, 2500),   # 第一个按钮（最左侧）
        '装备': (220, 2500),   # 第二个按钮
        '战斗': (350, 2500),   # 第三个按钮（中间）
        '宝箱': (480, 2500),   # 第四个按钮
        '副本': (610, 2500)    # 第五个按钮（最右侧）
    }
